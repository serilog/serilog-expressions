// Primitives
null                                 ‚á∂ null
true                                 ‚á∂ true
false                                ‚á∂ false

// Arrays
[]                                   ‚á∂ []
[5, 6]                               ‚á∂ [5, 6]
[5, undefined()]                     ‚á∂ [5]
[1]                                  ‚á∂ [1]
[[1]]                                ‚á∂ [[1]]
[1, ..[2, 3], 4, ..[undefined(), 5]] ‚á∂ [1, 2, 3, 4, 5]

// Objects
{}                                   ‚á∂ {}
{a: 1, 'b c': 2}                     ‚á∂ {a: 1, 'b c': 2}
{User}                               ‚á∂ {User: {Id: 42, Name: 'nblumhardt'}}
{@l}                                 ‚á∂ {'@l': @l}
{a: 1, a: 2}                         ‚á∂ {a: 2}
{a: 1, b: undefined()}               ‚á∂ {a: 1}
{a: 1, a: undefined()}               ‚á∂ {}
{a: 1, ..{b: 2, c: 3}}               ‚á∂ {a: 1, b: 2, c: 3}
{a: 1, ..{b: 2}, a: undefined()}     ‚á∂ {b: 2}
{a: 1, ..{b: 2}, b: undefined()}     ‚á∂ {a: 1}
{a: 1, ..{a: undefined()}}           ‚á∂ {a: 1}
{..{a: 1}, ..{b: 2, c: 3}}           ‚á∂ {a: 1, b: 2, c: 3}

// Strings
''                                   ‚á∂ ''
'foo'                                ‚á∂ 'foo'
''''                                 ‚á∂ ''''
'a'                                  ‚á∂ 'a'
'''b'                                ‚á∂ '''b'
'b'''                                ‚á∂ 'b'''
'a''b'                               ‚á∂ 'a''b'
'üòÇ'                                 ‚á∂ 'üòÇ'

// Numbers
0                                    ‚á∂ 0
0.0                                  ‚á∂ 0
1                                    ‚á∂ 1
1.0                                  ‚á∂ 1
123                                  ‚á∂ 123
1.23                                 ‚á∂ 1.23
-1                                   ‚á∂ -1
-1.23                                ‚á∂ -1.23

// Math
1 + 1                                ‚á∂ 2
1 + 2 + 3                            ‚á∂ 6
'foo' + 1                            ‚á∂ undefined()
1 - 2                                ‚á∂ -1
-1 - -1                              ‚á∂ 0
3 - 2                                ‚á∂ 1
'foo' - - 1                          ‚á∂ undefined()
1.0 + 2.0                            ‚á∂ 3
1 * 0                                ‚á∂ 0
12 * 12                              ‚á∂ 144
3 / 1                                ‚á∂ 3
3 / 0                                ‚á∂ undefined()
3 ^ 2                                ‚á∂ 9
0 ^ 1                                ‚á∂ 0
0 ^ 0                                ‚á∂ 1
0 % 0                                ‚á∂ undefined()
0 % 1                                ‚á∂ 0
1 % 0                                ‚á∂ undefined()
1 % 1                                ‚á∂ 0
5 % 2                                ‚á∂ 1
79228162514264337593543950334 + 1    ‚á∂ 79228162514264337593543950335
round(1.4343434343, 2)               ‚á∂ 1.43
round(1.435, 2)                      ‚á∂ 1.44
round(0.00000000, 5)                 ‚á∂ 0
round(0.99999999, 5)                 ‚á∂ 1
52 ^ -3                              ‚á∂ 0.00000711197086936732
2 ^ 3.14                             ‚á∂ 8.81524092701289

// Boolean logic
true or false and false              ‚á∂ true
(true or false) and false            ‚á∂ false
not false and false                  ‚á∂ false
not (false and false)                ‚á∂ true
false and true                       ‚á∂ false
false and false                      ‚á∂ false
true and true                        ‚á∂ true
true and null                        ‚á∂ false
false and null                       ‚á∂ false
null and null                        ‚á∂ false
undefined() and undefined()          ‚á∂ false
undefined() and true                 ‚á∂ false
true and undefined()                 ‚á∂ false
false or false                       ‚á∂ false
true or false                        ‚á∂ true
true or true                         ‚á∂ true
false or true                        ‚á∂ true
true or null                         ‚á∂ true
null or true                         ‚á∂ true
true or undefined()                  ‚á∂ true
undefined() or true                  ‚á∂ true
undefined() or undefined()           ‚á∂ false
not true                             ‚á∂ false
not false                            ‚á∂ true
not undefined()                      ‚á∂ true
not(true)                            ‚á∂ false
not(false and false)                 ‚á∂ true
not(undefined())                     ‚á∂ true
'not a bool' or true                 ‚á∂ true

// Coalesce
coalesce(null, 1)                    ‚á∂ 1
coalesce(undefined(), 1)             ‚á∂ 1
coalesce(1, null)                    ‚á∂ 1
coalesce(undefined(), undefined())   ‚á∂ undefined()
coalesce(null, null)                 ‚á∂ null
coalesce(null, null, 3)              ‚á∂ 3
coalesce()                           ‚á∂ undefined()
coalesce(1)                          ‚á∂ 1

// Identifiers
A                                    ‚á∂ undefined()
_a                                   ‚á∂ undefined()
a1                                   ‚á∂ undefined()

// EQ
1 = 1                                ‚á∂ true
1 = 0                                ‚á∂ false
null = 0                             ‚á∂ false
null = null                          ‚á∂ true
null = undefined()                   ‚á∂ undefined()
undefined() = undefined()            ‚á∂ undefined()

// NEQ
1 <> 1                               ‚á∂ false
1 <> 0                               ‚á∂ true
null <> 0                            ‚á∂ true
null <> null                         ‚á∂ false
undefined() <> null                  ‚á∂ undefined()
undefined() <> undefined()           ‚á∂ undefined()

// LT
1 < 2                                ‚á∂ true
1 < 1                                ‚á∂ false
1 < 0                                ‚á∂ false
null < 0                             ‚á∂ undefined()
null < null                          ‚á∂ undefined()
undefined() < null                   ‚á∂ undefined()
undefined() < undefined()            ‚á∂ undefined()

// LTE
1 <= 2                               ‚á∂ true
1 <= 1                               ‚á∂ true
1 <= 0                               ‚á∂ false
null <= 0                            ‚á∂ undefined()
null <= null                         ‚á∂ undefined()
undefined() <= null                  ‚á∂ undefined()
undefined() <= undefined()           ‚á∂ undefined()

// GT
3 > 1                                ‚á∂ true
1 > 1                                ‚á∂ false
1 > 0                                ‚á∂ true
null > 0                             ‚á∂ undefined()
null > null                          ‚á∂ undefined()
undefined() > null                   ‚á∂ undefined()
undefined() > undefined()            ‚á∂ undefined()

// GTE
2 >= 1                               ‚á∂ true
1 >= 1                               ‚á∂ true
1 >= 0                               ‚á∂ true
-1 >= 0                              ‚á∂ false
null >= 0                            ‚á∂ undefined()
null >= null                         ‚á∂ undefined()
undefined() >= null                  ‚á∂ undefined()
undefined() >= undefined()           ‚á∂ undefined()

// in/not in
1 in [1, 2, 3]                       ‚á∂ true
5 in [1, 2, 3]                       ‚á∂ false
1 not in [1, 2, 3]                   ‚á∂ false
5 not in [1, 2, 3]                   ‚á∂ true
undefined() in [1, 2, 3]             ‚á∂ undefined()
undefined() not in [1, 2, 3]         ‚á∂ undefined()
1 in undefined()                     ‚á∂ undefined()
null in [1, null, 3]                 ‚á∂ true

// is null/is not null
null is null                         ‚á∂ true
null is not null                     ‚á∂ false
undefined() is null                  ‚á∂ true
10 is null                           ‚á∂ false

// Property names and accessors
[5, 6, 7][1]                         ‚á∂ 6
User.Name                            ‚á∂ 'nblumhardt'
{Name: 'nblumhardt'}.Name            ‚á∂ 'nblumhardt'

// Wildcards
[1,2,3][?] > 2                       ‚á∂ true
[1,2,3][*] > 2                       ‚á∂ false
{k:'test'}[?] = 'test'               ‚á∂ true
{k:'test'}[?] like 'test'            ‚á∂ true
{k:'test'}[?] like 'TEST'            ‚á∂ false
{k:'test'}[?] like 'TEST' ci         ‚á∂ true
{k:'test'}[?] like '%TES%' ci        ‚á∂ true
{k:'test'}[?] = 'none'               ‚á∂ false

// Text and regex
ismatch('foo', 'f')                  ‚á∂ true
indexofmatch('foo', 'o')             ‚á∂ 1
ismatch('foo', '^f')                 ‚á∂ true
ismatch('foo', 'F')                  ‚á∂ false
ismatch('foo', 'F') ci               ‚á∂ true
ismatch('foo', '^o')                 ‚á∂ false
indexofmatch('foo', 'x')             ‚á∂ -1
substring('abcd', 1, 2)              ‚á∂ 'bc'
substring('abcd', 1)                 ‚á∂ 'bcd'
concat('a', 'b', 'c')                ‚á∂ 'abc'
concat('a', 42, 'c')                 ‚á∂ undefined()
concat('a', undefined())             ‚á∂ undefined()
concat(undefined(), 'b')             ‚á∂ undefined()

// Conditional
if true then 1 else 2                ‚á∂ 1
if 1 + 2 = 3 then 1 else 2           ‚á∂ 1
if false then 1 else 2               ‚á∂ 2
if undefined() then 1 else 2         ‚á∂ 2
if 'string' then 1 else 2            ‚á∂ 2
if true then if false then 1 else 2 else 3 ‚á∂ 2

// ToString
tostring(16)                         ‚á∂ '16'
tostring('test')                     ‚á∂ 'test'
tostring({})                         ‚á∂ undefined()
tostring([])                         ‚á∂ undefined()
tostring(16, '000')                  ‚á∂ '016'
tostring(null)                       ‚á∂ undefined()
tostring(undefined())                ‚á∂ undefined()
tostring('test', '000')              ‚á∂ 'test'
tostring('test', [])                 ‚á∂ undefined()
tostring('test', 42)                 ‚á∂ undefined()
tostring(16, undefined())            ‚á∂ '16'
tostring(16, null)                   ‚á∂ '16'

// Tests are in fr-FR
tostring(16.3)                       ‚á∂ '16,3'

// TypeOf
typeof(undefined())                  ‚á∂ 'undefined'
typeof('test')                       ‚á∂ 'System.String'
typeof(10)                           ‚á∂ 'System.Decimal'
typeof(true)                         ‚á∂ 'System.Boolean'
typeof(null)                         ‚á∂ 'null'
typeof([])                           ‚á∂ 'array'
typeof({})                           ‚á∂ 'object'

// UtcDateTime
tostring(utcdatetime(now()), 'o') like '20%' ‚á∂ true

// Case comparison
'test' = 'TEST'                      ‚á∂ false
'tsch√º√ü' = 'TSCH√úSS'                 ‚á∂ false
'·ΩàŒîŒ•Œ£Œ£ŒïŒéŒ£!' = '·ΩÄŒ¥œÖœÉœÉŒµœçœÇ!'            ‚á∂ false
'·ΩàŒîŒ•Œ£Œ£ŒïŒéŒ£!' = '·ΩÄŒ¥œÖœÉœÉŒµœçœÉ!'            ‚á∂ false
'test' = 'TEST' ci                   ‚á∂ true
'tsch√º√ü' = 'TSCH√úSS' ci              ‚á∂ false
'·ΩàŒîŒ•Œ£Œ£ŒïŒéŒ£!' = '·ΩÄŒ¥œÖœÉœÉŒµœçœÉ!' ci         ‚á∂ true
null = 0 ci                          ‚á∂ false
null = null ci                       ‚á∂ true
null = undefined() ci                ‚á∂ undefined()
undefined() = undefined() ci         ‚á∂ undefined()

// Like
'test' like 'test'                   ‚á∂ true
'test' like 'Test'                   ‚á∂ false
'test' like 'Test' ci                ‚á∂ true
'test' like '%st'                    ‚á∂ true
'test' like '_est'                   ‚á∂ true
'test' like 't%t'                    ‚á∂ true
'test' like 't_st'                   ‚á∂ true
'test' like 'te%'                    ‚á∂ true
'test' like 'tes_'                   ‚á∂ true
'test' like '%su'                    ‚á∂ false
'test' like '_esu'                   ‚á∂ false
'test' like 't%u'                    ‚á∂ false
'test' like 't_su'                   ‚á∂ false
'test' like 'ue%'                    ‚á∂ false
'test' like 'ues_'                   ‚á∂ false
'test' like '%s_'                    ‚á∂ true
'test' like '%'                      ‚á∂ true
'test' like 't%s%'                   ‚á∂ true
'test' like 'es'                     ‚á∂ false
'test' like '%'                      ‚á∂ true
'test' like ''                       ‚á∂ false
'' like ''                           ‚á∂ true
